function draw(t,e,o){socket.emit("draw",lastX,lastY,t,e,o),lastX=t,lastY=e}var context=document.getElementById("whiteboard").getContext("2d"),socket=io(),paint=!1,lastX,lastY;$("#whiteboard").mousedown(function(t){var e=t.pageX-$(this).offset().left,o=t.pageY-$(this).offset().top;paint=!0,draw(e,o,!1)}),$("#whiteboard").mousemove(function(t){paint&&draw(t.pageX-$(this).offset().left,t.pageY-$(this).offset().top,!0)}),$("#whiteboard").mouseup(function(t){paint=!1}),$("#whiteboard").mouseleave(function(t){paint=!1}),socket.on("remoteDraw",function(t,e,o,n,a){a&&(context.beginPath(),context.strokeStyle="#ff0000",context.lineJoin="round",context.lineWidth=10,context.moveTo(t,e),context.lineTo(o,n),context.closePath(),context.stroke())});